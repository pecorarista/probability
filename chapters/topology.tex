\documentclass[../main.tex]{subfiles}
\begin{document}
\mainchapter{位相}
\nocite{uchida}
\nocite{introduction-to-topology}

\section{距離空間}
\begin{thmbox}
\begin{definition}
\((X, d_{X})\), \((Y,\,d_{Y})\)を距離空間とする．
写像\(f\colon X \to Y\)が\keyword{点}\(x \in X\)\keyword{において連続}(continuous at \(x\))であるとは，
任意の\(\varepsilon > 0\)に対して，ある\(\delta > 0\)が存在して，
任意の\(x' \in X\)に対して，\(d_{X}(x', x) < \delta\)ならば\(d_{Y}(f(x'), f(x)) < \varepsilon\)となることをいう．
\definitionlabel{dist-continuity}
\end{definition}
\end{thmbox}


\section{位相空間}
\begin{thmbox}
\begin{definition}
\(X\)を集合とし，\(\symcal{O}\)を\(X\)の部分集合族とする．
\(\symcal{O}\)が以下の\ref{topology-empty}--\ref{topology-union}をみたすとき，
\(\symcal{O}\)の\keyword{位相}(topology)という．
\begin{conditions}
    \item\label{topology-empty} \(\emptyset \in \symcal{O}\)かつ\(X \in \symcal{O}\)．
    \item\label{topology-intersection} \(O_1,\,O_2 \in \symcal{O}\)ならば\(O_1 \cap O_2 \in \symcal{O}\)．
    \item\label{topology-union} 集合族\({(O_\lambda)}_{\lambda \in \Lambda}\)が各\(\lambda \in \Lambda\)について\(O_\lambda \in \symcal{O}\)をみたすならば
        \begin{align}
            \bigcup_{\lambda \in \Lambda} \in \symcal{O}.
        \end{align}
\end{conditions}
集合\(X\)とその位相\(\symcal{O}\)の組\((X, \symcal{O})\)を\keyword{位相空間}(topological space)という．\definitionlabel{topology}
\end{definition}
\end{thmbox}

\begin{thmbox}
\begin{definition}
\(\symbb{R}^n\)において
\end{definition}
\end{thmbox}

\(X\)を集合とし，\(\symcal{O}_1\)と\(\symcal{O}_2\)をそれぞれ\(X\)の位相とする．
\(\symcal{O}_1 \subseteq \symcal{O}_2\)が成り立つとき，
\(\symcal{O}_1\)は\(\symcal{O}_2\)より\keyword{粗い}(coarser)\index{粗い@あらい}，
または\(\symcal{O}_2\)は\(\symcal{O}_1\)より\keyword{細かい}(finer)\index{細かい@こまかい}という．
\(X\)の位相全体の集合は関係\(\subseteq\)を順序とみなすことにより，半順序集合となる．

任意の集合\(X\)について，最も粗い(coarsest)位相は密着位相であり，最も細かい(finest)位相は離散位相である．
簡単な例として異なる2点からなる集合\(X = \{a, b\}\)を考える．
密着位相\(\{\emptyset, X\}\)に，任意の1点だけからなる集合を1つだけ含めた集合，
すなわち\(\{\emptyset, \{a\}, X\}\)と\(\{\emptyset, \{b\}, X\}\)もまた位相である．
これらを\keyword{Sierpiński\footnote{\pronunciation{Sierpiński}{pl}{ɕɛr{\primarystress}pi\~{\j}sk\textsuperscript{j}i}{シェルピンスキー}}位相}(Sierpiński topology)と呼ぶ．
密着位相\(\{0,\,X\}\)，任意のSierpiński位相\(\symcal{S}\)，離散位相\(\wp(X) = \{\emptyset,\,\{a\},\,\{b\},\,X\}\)について，\(\{\emptyset,\,X\} \preceq \symcal{S} \preceq \wp(X)\)が成り立つ．これらを象徴的に図示すると\figref{sierpinski}のようになる．
2つの異なるSierpiński位相は比較可能でないことから，位相の細かさは一般的には全順序にならないことがわかる．

\begin{figure}
    \centering
    \vspace{5.2mm}
    \begin{tikzpicture}
        \draw[thick] (0, 0) ellipse (1.2 and 0.6);
        \node[circle, draw=black, fill=black, inner sep=0pt, outer sep=1pt, minimum size=3pt] at (-0.5, 0) {};
        \node[circle, draw=black, fill=black, inner sep=0pt, outer sep=1pt, minimum size=3pt] at (0.5, 0) {};
        \node at (0, -1.3) {密着位相};

        \draw[thick] (4, 0) ellipse (1.2 and 0.6);
        \node[circle, draw=black, fill=black, inner sep=0pt, outer sep=1pt, minimum size=3pt] at (3.5, 0) {};
        \node[circle, draw=black, fill=black, inner sep=0pt, outer sep=1pt, minimum size=3pt] at (4.5, 0) {};
        \draw[thick] (3.5, 0) circle (0.3);
        \node at (4, -1.3) {Sierpiński位相};

        \draw[thick] (8, 0) ellipse (1.2 and 0.6);
        \node[circle, draw=black, fill=black, inner sep=0pt, outer sep=1pt, minimum size=3pt] at (7.5, 0) {};
        \node[circle, draw=black, fill=black, inner sep=0pt, outer sep=1pt, minimum size=3pt] at (8.5, 0) {};
        \draw[thick] (7.5, 0) circle (0.3);
        \draw[thick] (8.5, 0) circle (0.3);
        \node at (8, -1.3) {離散位相};
    \end{tikzpicture}
    \vspace{4mm}
    \caption{各位相を象徴的に表した図．図における点は集合の元，点を囲む円はその元を含む開集合に対応している．}
    \figlabel{sierpinski}
\end{figure}

\begin{thmbox}
\begin{definition}
\((X, \symcal{O})\)を位相空間とする．\(\symcal{O}\)の部分集合\(\symcal{B}\)について，
任意の\(O \in \symcal{O}\)に対して，ある\(\symcal{B}_0 \subseteq \symcal{B}\)が存在して，
\begin{align*}
    O = \bigcup \symcal{B}_0
\end{align*}
とできるとき，
\(\symcal{B}\)を\(\symcal{O}\)の\keyword{開基}(basis)という．
\end{definition}
\end{thmbox}

\begin{example} \(\symbb{R}\)において開区間全体の集合\(\symcal{I} = \{ (a, b) \mid a,  b \in \symbb{R}\}\)は開基である．
\end{example}

% Singh 1.4.5
\begin{thmbox}
\begin{theorem}
\(X\)を集合とする．部分集合族\(\symcal{B} \subseteq \wp(X)\)が
以下をみたすとき，
\begin{conditions}
    \item \(X = \bigcup \symcal{B}\).
    \item 任意の\(B_1, B_2 \in \symcal{B}\)と\(x \in B_1 \cap B_2\)に対して，
        ある\(B_3 \in \symcal{B}\)が存在して，\(B_1 \cap B_2\)
\end{conditions}
\end{theorem}
\end{thmbox}

\begin{thmbox}
\begin{definition}
\(X, \symcal{O}\)を位相空間とする．
\(\symcal{O}\)の部分集合\(\symcal{S}\)について，
任意の\(O \in \symcal{O}\)と\(x \in O\)に対して，
有限個の\(V_1, \ldots, V_r \)をとって
\(x \in V_1 \cap \cdots \cap V_r\)かつ\(V_1 \cap \cdots \cap V_r \subseteq O\)とできるとき，
\(\symcal{S}\)を\(\symcal{O}\)の\keyword{準開基}(subbasis)という．
\end{definition}
\end{thmbox}

\begin{example} \(\symbb{R}\)において
\begin{align*}
    \symcal{I} =
        \{ (-\infty, x) \mid x \in \symbb{R} \}
        \cup
        \{ (x, \infty) \mid x \in \symbb{R} \}
\end{align*}
は準開基である．\(\symbb{R}\)の開集合を
\end{example}

\section{直積集合と位相}
位相空間\((X, \symcal{O}_X)\)と \((Y, \symcal{O}_Y)\)が与えられたとき，
直積\(X \times Y\)に位相を定める方法はいくつかある．
その1つは
\begin{align*}
    \symcal{R} = \{ U \times V \mid U \in \symcal{O}_X, V \in \symcal{O}_Y\}
\end{align*}
が生成する位相\(\Box := \Generatedtopology{\symcal{R}}\)を\(X \times Y\)の位相とする方法である．
\(\symcal{R}\)自身は一般的には位相にならない．
例えば\(X = Y = \symbb{R}\)において，
\(X\)の開区間\(U_1, U_2\)と
\(Y\)の開区間\(V_1, V_2\)を
\figref{box-topology}のように
\((U_1 \times V_1) \cup (U_2 \times V_2)\)がS-テトロミノに似た形になるようにとる．
このとき\(U_1 \times V_1\)と\(U_2 \times V_2\)は\(\symcal{R}\)の元であるが，
その和集合\((U_1 \times V_1) \cup (U_2 \times V_2)\)は\(\symcal{R}\)の元ではない．

\begin{figure}
    \centering
    \begin{tikzpicture}
        \begin{axis}[
            axis lines=middle,
            axis line style=thick,
            xlabel={$x$},
            ylabel={$y$},
            xtick=\empty,
            ytick=\empty,
            xmin=-0.5,
            xmax=5,
            ymin=-0.5,
            ymax=3,
            samples=200,
            clip=false
        ]
        % vertical lines
        \addplot[dotted, sBlue] coordinates {(0.5, -0.25) (0.5, 2.5)};
        \addplot[dotted, sRed] coordinates {(1.5, -0.25) (1.5, 2.5)};
        \addplot[dotted, sBlue] coordinates {(2, -0.25) (2, 3)};
        \addplot[dotted, sRed] coordinates {(3, -0.25) (3, 3)};
        \addplot[ultra thick, sBlue] coordinates {(0.03, 0.5) (0.03, 1.5)};
        \addplot[ultra thick, sRed] coordinates {(-0.03, 1) (-0.03, 2)};
        % horizontal lines
        \addplot[dotted, sBlue] coordinates {(-0.25, 0.5) (3.5, 0.5)};
        \addplot[dotted, sRed] coordinates {(-0.25, 1) (3.5, 1)};
        \addplot[dotted, sBlue] coordinates {(-0.25, 1.5) (3.5, 1.5)};
        \addplot[dotted, sRed] coordinates {(-0.25, 2) (3.5, 2)};
        \addplot[ultra thick, sBlue] coordinates {(0.5, 0.03) (2, 0.03)};
        \addplot[ultra thick, sRed] coordinates {(1.5, -0.03) (3, -0.03)};

        \node at (axis cs:-0.2, -0.2) {$O$};
        \node at (axis cs:1.25, -0.2) {\textcolor{sBlue}{$U_1$}};
        \node at (axis cs:2.25, -0.2) {\textcolor{sRed}{$U_2$}};
        \node at (axis cs:0.3, 1) {\textcolor{sBlue}{$V_1$}};
        \node at (axis cs:-0.2, 1.5) {\textcolor{sRed}{$V_2$}};
        \node at (axis cs:0.8, 1.7) {\textcolor{sBlue}{$U_1 \times V_1$}};
        \node at (axis cs:2.25, 2.2) {\textcolor{sRed}{$U_2 \times V_2$}};
        \node[anchor=west] at (axis cs:3.2, 1.25) {$(U_1 \times V_1) \cup (U_2 \times V_2)$};

        \fill[pattern=north east lines, pattern color=sBlue] (axis cs:0.5, 1.5) rectangle (axis cs:2, 0.5);
        \fill[pattern=north west lines, pattern color=sRed] (axis cs:1.5, 2) rectangle (axis cs:3, 1);

        \addplot[thick] coordinates {%
            (0.5, 1.5)
            (0.5, 0.5)
            (2, 0.5)
            (2, 1)
            (3, 1)
            (3, 2)
            (1.5, 2)
            (1.5, 1.5)
        } -- cycle;

        \end{axis}
    \end{tikzpicture}
    \caption{\(\symbb{R} \times \symbb{R}\)の箱位相の元の例．}\figlabel{box-topology}
\end{figure}

一般に位相空間の族\(({(X_\lambda, \symcal{O}_\lambda))}_{\lambda \in \Lambda}\)が与えられたとき，
\begin{align*}
    \symcal{R} = \left\{
        \prod_{\lambda \in \Lambda} O_\lambda
        \relmiddle|
        \text{任意の\(\lambda \in \Lambda\)について\(O_\lambda \in \symcal{O}_\lambda\)}
        \right\}
\end{align*}
が生成する位相\(\Box := \Generatedtopology{\symcal{R}}\)を\({((X_\lambda, \symcal{O}_\lambda))}_{\lambda \in \Lambda}\)の\keyword{箱位相}(box topology)という．

\begin{thmbox}
\begin{proposition}
\(\symbb{R} \times \symbb{R}\)の箱位相\(\Box\)は\(\symbb{R}^2\)の通常の位相\(\symcal{O}\)と一致する．
\end{proposition}
\end{thmbox}

\begin{proof} (\(\Box \subseteq \symcal{O}\))任意の\(O \in \Box\)をとる．
\end{proof}

\begin{thmbox}
\begin{definition}
位相空間\((X, \symcal{O})\)の部分集合\(A\)が\(\overline{A} = X\)をみたすとき，
\(A\)は\(X\)において\keyword{稠密}(dense)であるという．
\end{definition}
\end{thmbox}

稠密であることは次のように言い換えられる．

\begin{thmbox}
\begin{proposition}
位相空間\((X, \symcal{O})\)の部分集合\(A\)が稠密であることは，
任意の\(O \in \symcal{O} \setminus \{\emptyset\}\)について\(A \cap O \neq \emptyset\)が成り立つことと同値である．
\propositionlabel{dense-paraphrase}
\end{proposition}
\end{thmbox}

\begin{proof}(\(\Rightarrow\))任意の\(O \in \symcal{O} \setminus \{\emptyset\}\)をとる．
\(O\)は空でないから，ある\(x \in O\)が存在する．
\(x \in O \subset X\)であり，仮定\(X \subseteq \overline{A}\)より\(x \in \overline{A}\)である．
したがって触点の性質から\(A \cap O \neq \emptyset\)が成り立つ．

\noindent (\(\Leftarrow\))任意の\(x \in X\)をとる．
仮定から\(x\)の任意の開近傍\(V\)について\(A \cap V \neq \emptyset\)が成り立つ．
したがって\(x \in \overline{A}\)，すなわち\(X \subseteq \overline{A}\)が示された．
\end{proof}

\section{連続写像}
\begin{thmbox}
\begin{definition}
\((X, \symcal{O}_{X})\), \((Y, \symcal{O}_{Y})\)を位相空間とする．
写像\(f\colon X \to Y\)が点\(x \in X\)において連続であるとは，
\(f(x)\)の\((Y, \symcal{O}_{Y})\)における任意の近傍\(V\)に対して，
\((X, \symcal{O}_{X})\)における\(x\)のある近傍\(U\)が存在して，\(f(U) \subseteq V\)となることをいう．
\definitionlabel{topology-continuity}
\end{definition}
\end{thmbox}


\end{document}
